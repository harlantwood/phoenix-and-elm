language: elixir

elixir:
  - 1.6

otp_release:
  - '20.2.4'

addons:
  postgresql: '9.4'

services:
  - postgresql

before_script:
  - yarn
  - mix ecto.create
  - mix ecto.migrate

script:
  - mix test --cover
  - mix run priv/repo/seeds.exs
  - mix format --check-formatted mix.exs "lib/**/*.{ex,exs}" "test/**/*.{ex,exs}"
  - ./node_modules/.bin/elm-format --validate web/elm/src
